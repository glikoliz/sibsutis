member(X, [X|_]).
member(X, [_|T]) :- member(X, T).

посчитать_элементы([], _, 0).
посчитать_элементы([H|T], M, N) :-
  member(H, M),
  посчитать_элементы(T, M, N).
посчитать_элементы([H|T], M, N) :-
  \+ member(H, M),
  посчитать_элементы(T, M, N1),
  N is N1 + 1.

старт :-
  L = [1,2,3,5,2,3,2,4],
  M = [2,1],
  посчитать_элементы(L, M, Res),
  writeln(Res),
  !.
